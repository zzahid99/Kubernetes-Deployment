{"ast":null,"code":"import _defineProperty from\"/home/zamar99/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/zamar99/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/zamar99/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';export var Register=function Register(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='User already exists.'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''||password2===''){setAlert('Please enter all fields','danger');}else if(password!==password2){setAlert('Passwords Do not match','danger');}else{register({name:name,email:email,password:password});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Account \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"Register\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password2\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})));};","map":{"version":3,"sources":["/home/zamar99/contact-keeper/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Register","props","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","name","email","password","password2","user","setUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nexport const Register = (props) => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n\n  const { setAlert } = alertContext;\n\n  const { register, error, clearErrors, isAuthenticated } = authContext;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      props.history.push('/');\n    }\n\n    if (error === 'User already exists.') {\n      setAlert(error, 'danger');\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error, isAuthenticated, props.history]);\n\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: '',\n  });\n\n  const { name, email, password, password2 } = user;\n\n  const onChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (name === '' || email === '' || password === '' || password2 === '') {\n      setAlert('Please enter all fields', 'danger');\n    } else if (password !== password2) {\n      setAlert('Passwords Do not match', 'danger');\n    } else {\n      register({\n        name,\n        email,\n        password,\n      });\n    }\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h1>\n        Account <span className=\"text-primary\">Register</span>\n      </h1>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Name</label>\n          <input type=\"text\" name=\"name\" value={name} onChange={onChange} required />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email</label>\n          <input type=\"email\" name=\"email\" value={email} onChange={onChange} required />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={onChange}\n            required\n            minLength=\"6\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password2\">Confirm Password</label>\n          <input\n            type=\"password\"\n            name=\"password2\"\n            value={password2}\n            onChange={onChange}\n            required\n            minLength=\"6\"\n          />\n        </div>\n        <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\" />\n      </form>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}